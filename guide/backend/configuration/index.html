<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration | AEM Vite</title>
    <meta name="description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <link rel="stylesheet" href="/assets/style.d6b033c1.css">
    <link rel="modulepreload" href="/assets/Home.ca6f350a.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.eeccc64a.js">
    <link rel="modulepreload" href="/assets/app.a18b78d2.js">
    <link rel="modulepreload" href="/assets/guide_backend_configuration_index.md.7127c668.lean.js">
    <link rel="modulepreload" href="/assets/app.a18b78d2.js">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="manifest" href="/static/site.webmanifest">
    <link rel="mask-icon" href="/static/safari-pinned-tab.svg" color="#c34c5c">
    <link rel="shortcut icon" href="/static/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="AEM Vite">
    <meta name="application-name" content="AEM Vite">
    <meta name="msapplication-TileColor" content="#c34c5c">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="AEM Vite">
    <meta property="og:description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <meta property="og:image" content="/static/social/og-primary.jpg">
    <meta name="twitter:title" content="AEM Vite">
    <meta property="twitter:description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <meta property="twitter:site" content="@cshawaus">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-5df6160f><div class="sidebar-button" data-v-5df6160f><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="AEM Vite, back to home" data-v-5df6160f data-v-8dbfef3c><img class="logo" src="/static/logo.png" alt="Logo" data-v-8dbfef3c> AEM Vite</a><div class="flex-grow" data-v-5df6160f></div><div class="nav" data-v-5df6160f><nav class="nav-links" data-v-5df6160f data-v-38e3b123><!--[--><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/backend/installation/" data-v-45eb32c6>Installation <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/front-end/" data-v-45eb32c6>Front End <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/legacy-bundles/" data-v-45eb32c6>Legacy Bundles <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/faqs/" data-v-45eb32c6>FAQs <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/aem-vite/aem-vite/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/aem-vite/aem-vite" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-58e261f2><nav class="nav-links nav" data-v-58e261f2 data-v-38e3b123><!--[--><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/backend/installation/" data-v-45eb32c6>Installation <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/front-end/" data-v-45eb32c6>Front End <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/legacy-bundles/" data-v-45eb32c6>Legacy Bundles <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item" href="/guide/faqs/" data-v-45eb32c6>FAQs <!----></a></div></div><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/aem-vite/aem-vite/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-38e3b123><div class="nav-link" data-v-38e3b123 data-v-45eb32c6><a class="item isExternal" href="https://github.com/aem-vite/aem-vite" target="_blank" rel="noopener noreferrer" data-v-45eb32c6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-45eb32c6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-58e261f2><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Guide</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Backend (AEM)</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/backend/installation/">Installation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/guide/backend/configuration/">Configuration</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#osgi-configuration">OSGI configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#properties">Properties</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#automatic-injection">Automatic injection?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#clientlib-categories">ClientLib categories</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#content-paths">Content paths</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#manual-injection-selector">Manual injection selector</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver-protocol">DevServer protocol</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver-hostname">DevServer hostname</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver-docker">DevServer Docker</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver-port">DevServer port</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver-entrypoints">DevServer entrypoints</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#using-react">Using React?</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#example-configuration">Example configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#remote-debugging">Remote debugging</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Front End</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/">Preparing your project</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/structure/">Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/vite/">Vite Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/module-imports/">Module imports</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/dynamic-imports/">Dynamic imports</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Legacy Bundles</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/legacy-bundles/">What are they?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/legacy-bundles/clientlibs/">ClientLibs support</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/faqs/">FAQs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/migrate-to-v2/">Migrate to v2.x</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-d36a7fda><div class="container" data-v-d36a7fda><!--[--><!--]--><div class="content" data-v-d36a7fda><div data-v-d36a7fda><h1 id="frontmatter-title"><a class="header-anchor" href="#frontmatter-title" aria-hidden="true">#</a> Configuration</h1><p>AEM Vite provides a factory configuration which enables multiple different front end setups to be used at the same time. This means that you can work on multiple codebases without ever having to stop and switch between configurations.</p><h2 id="osgi-configuration"><a class="header-anchor" href="#osgi-configuration" aria-hidden="true">#</a> OSGI configuration</h2><p>Within your projects OSGI configuration folder, create a new file called:</p><blockquote><p>dev.aemvite.aem.impl.ViteDevServerConfigImpl-project.cfg.json</p></blockquote><p>Because AEM Vite allows factories, you can create as many projects as you would like and you only need to replace <code>project</code> with something unqiue.</p><div class="warning custom-block"><p class="custom-block-title">.cfg.json not working?</p><p>If using <code>.cfg.json</code> doesn&#39;t work for you, switch to the XML format <code>.config.xml</code>. Read more about about creating <a href="https://experienceleague.adobe.com/docs/experience-manager-cloud-service/implementing/deploying/configuring-osgi.html?lang=en" target="_blank" rel="noopener noreferrer">OSGI configuration</a> files.</p></div><h2 id="properties"><a class="header-anchor" href="#properties" aria-hidden="true">#</a> Properties</h2><h3 id="automatic-injection"><a class="header-anchor" href="#automatic-injection" aria-hidden="true">#</a> Automatic injection?</h3><p>Use automatic injection which detects Vite&#39;s DevServer and strips away any defined ClientLibs along with injecting Vite&#39;s client module.</p><p><strong>Key:</strong> <code>automatic.injection</code><br><strong>Type:</strong> <code>Boolean</code><br><strong>Default:</strong> <code>true</code></p><h3 id="clientlib-categories"><a class="header-anchor" href="#clientlib-categories" aria-hidden="true">#</a> ClientLib categories</h3><p>A list of ClientLib categories that will be used to strip certain CSS/JS from the page.</p><p><strong>Key:</strong> <code>clientlib.categories</code><br><strong>Type:</strong> <code>String[]</code></p><h3 id="content-paths"><a class="header-anchor" href="#content-paths" aria-hidden="true">#</a> Content paths</h3><p>A list of content paths where injection should occur.</p><p><strong>Key:</strong> <code>content.paths</code><br><strong>Type:</strong> <code>String[]</code></p><h3 id="manual-injection-selector"><a class="header-anchor" href="#manual-injection-selector" aria-hidden="true">#</a> Manual injection selector</h3><p>A custom selector to use when automatic injection is disabled. You can enable AEM Vite by adding your custom selector to the content URL. E.g.</p><blockquote><p><a href="http://localhost:4502/content/project/mypage.vite.html" target="_blank" rel="noopener noreferrer">http://localhost:4502/content/project/mypage.vite.html</a></p></blockquote><p><strong>Key:</strong> <code>manual.injection.selector</code><br><strong>Type:</strong> <code>String</code><br><strong>Default:</strong> <code>vite</code></p><h3 id="devserver-protocol"><a class="header-anchor" href="#devserver-protocol" aria-hidden="true">#</a> DevServer protocol</h3><p>Which protocol should be used to contact Vite&#39;s DevServer?</p><p><strong>Key:</strong> <code>devserver.protocol</code><br><strong>Type:</strong> <code>String</code><br><strong>Accepts:</strong> <code>http</code> or <code>https</code><br><strong>Default:</strong> <code>http</code></p><h3 id="devserver-hostname"><a class="header-anchor" href="#devserver-hostname" aria-hidden="true">#</a> DevServer hostname</h3><p>Which hostname should be used to contact Vite&#39;s DevServer?</p><p><strong>Key:</strong> <code>devserver.hostname</code><br><strong>Type:</strong> <code>String</code><br><strong>Default:</strong> <code>localhost</code></p><h3 id="devserver-docker"><a class="header-anchor" href="#devserver-docker" aria-hidden="true">#</a> DevServer Docker</h3><p>Enable this option if your AEM instance is running within Docker. This will ensure that the DevServer check works correctly via <code>http://host.docker.internal</code>.</p><p><strong>Key:</strong> <code>devserver.docker</code><br><strong>Type:</strong> <code>Boolean</code><br><strong>Default:</strong> <code>false</code></p><h3 id="devserver-port"><a class="header-anchor" href="#devserver-port" aria-hidden="true">#</a> DevServer port</h3><p>Which port should be used to contact Vite&#39;s DevServer?</p><p><strong>Key:</strong> <code>devserver.port</code><br><strong>Type:</strong> <code>Integer</code><br><strong>Default:</strong> <code>3000</code></p><h3 id="devserver-entrypoints"><a class="header-anchor" href="#devserver-entrypoints" aria-hidden="true">#</a> DevServer entrypoints</h3><p>A list of entry points to inject onto the page.</p><p><strong>Key:</strong> <code>devserver.entrypoints</code><br><strong>Type:</strong> <code>String[]</code></p><h3 id="using-react"><a class="header-anchor" href="#using-react" aria-hidden="true">#</a> Using React?</h3><p>Enable this option is enabled when using React to ensure things work correctly. Ensure you install the <code>@vitejs/plugin-react-refresh</code> Vite plugin too which ensures HMR works correctly.</p><p><strong>Key:</strong> <code>using.react</code><br><strong>Type:</strong> <code>Boolean</code><br><strong>Default:</strong> <code>false</code></p><h2 id="example-configuration"><a class="header-anchor" href="#example-configuration" aria-hidden="true">#</a> Example configuration</h2><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;automatic.injection&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;clientlib.categories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;project&gt;.base&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content.paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/content/&lt;project&gt;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;manual.injection.selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devserver.protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devserver.hostname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devserver.docker&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devserver.port&quot;</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devserver.entrypoints&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/js/main.ts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;using.react&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="remote-debugging"><a class="header-anchor" href="#remote-debugging" aria-hidden="true">#</a> Remote debugging</h2><p>As mentioned in <a href="./../installation/#runmode-considerations">runmode considerations</a>, it is possible to have AEM Vite installed on a non-local environment which opens up the possiblity of remote debugging.</p><p>This &quot;feature&quot; is a game-changer for AEM as it provides a simple way of debugging code locally while testing it against a real environment. The simpliest way of achieving this is by using a service such as ngrok to proxy your local Vite DevServer. Within your remote AEM environment, navigate to <strong>/system/console/configMgr</strong> and update the <code>ViteDevServerConfigImpl</code> configuration protocol, hostname and port if required to your proxy.</p><p>Once setup, visit any page using your configured ClientLibs and you will see your local Vite DevServer being injected.</p></div></div><footer class="page-footer" data-v-d36a7fda data-v-5a019cc9><div class="edit" data-v-5a019cc9><div class="edit-link" data-v-5a019cc9 data-v-3ae295f1><!----></div></div><div class="updated" data-v-5a019cc9><!----></div></footer><div class="next-and-prev-link" data-v-d36a7fda data-v-6683615c><div class="container" data-v-6683615c><div class="prev" data-v-6683615c><a class="link" href="/guide/backend/installation/" data-v-6683615c><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-6683615c><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-6683615c>Installation</span></a></div><div class="next" data-v-6683615c><a class="link" href="/guide/front-end/" data-v-6683615c><span class="text" data-v-6683615c>Preparing your project</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-6683615c><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"d1b9761d\",\"guide_index.md\":\"138a1f39\",\"guide_faqs_index.md\":\"5e52d2e1\",\"guide_front-end_index.md\":\"451fc4dc\",\"guide_legacy-bundles_index.md\":\"20fbc59c\",\"guide_migrate-to-v2_index.md\":\"84bf0726\",\"guide_backend_configuration_index.md\":\"7127c668\",\"guide_backend_installation_index.md\":\"807e217a\",\"guide_extending_clientlibs_index.md\":\"109a58f2\",\"guide_extending_why_index.md\":\"9fb89da8\",\"guide_front-end_dynamic-imports_index.md\":\"c9cd1ad5\",\"guide_front-end_module-imports_index.md\":\"2325d77b\",\"guide_front-end_structure_index.md\":\"c20ffb90\",\"guide_front-end_vite_index.md\":\"28151e9f\",\"guide_legacy-bundles_clientlibs_index.md\":\"169383d8\"}")</script>
    <script type="module" async src="/assets/app.a18b78d2.js"></script>
  </body>
</html>