<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vite Configuration | AEM Vite</title>
    <meta name="description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <link rel="stylesheet" href="/assets/style.66f91c9c.css">
    <link rel="modulepreload" href="/assets/Home.96cb90b6.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.e888a179.js">
    <link rel="modulepreload" href="/assets/app.0908424f.js">
    <link rel="modulepreload" href="/assets/guide_front-end_vite_index.md.f3642a32.lean.js">
    <link rel="modulepreload" href="/assets/app.0908424f.js">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="manifest" href="/static/site.webmanifest">
    <link rel="mask-icon" href="/static/safari-pinned-tab.svg" color="#c34c5c">
    <link rel="shortcut icon" href="/static/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="AEM Vite">
    <meta name="application-name" content="AEM Vite">
    <meta name="msapplication-TileColor" content="#c34c5c">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="AEM Vite">
    <meta property="og:description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <meta property="og:image" content="/static/social/og-primary.jpg">
    <meta name="twitter:title" content="AEM Vite">
    <meta property="twitter:description" content="AEM Vite is a plugin for AEM that enables transparent support for the Vite DevServer.">
    <meta property="twitter:site" content="@cshawaus">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="AEM Vite, back to home" data-v-675d8756 data-v-4a583abe><img class="logo" src="/static/logo.png" alt="Logo" data-v-4a583abe> AEM Vite</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/backend/installation/" data-v-b8818f8c>Installation <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/guide/front-end/" data-v-b8818f8c>Front End <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/legacy-bundles/" data-v-b8818f8c>Legacy Bundles <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/faqs/" data-v-b8818f8c>FAQs <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/aem-vite/aem-vite/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/aem-vite/aem-vite" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/backend/installation/" data-v-b8818f8c>Installation <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/guide/front-end/" data-v-b8818f8c>Front End <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/legacy-bundles/" data-v-b8818f8c>Legacy Bundles <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/guide/faqs/" data-v-b8818f8c>FAQs <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/aem-vite/aem-vite/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/aem-vite/aem-vite" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Guide</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Backend (AEM)</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/backend/installation/">Installation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/backend/configuration/">Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/backend/permissions/">Permissions</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Front End</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/">Preparing your project</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/structure/">Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/guide/front-end/vite/">Vite Configuration</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#recommended-configuration">Recommended configuration</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#specific-build-modes">Specific build modes</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#source-structure">Source structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#plugins">Plugins</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#code-output">Code output</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#devserver">DevServer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#static-assets">Static assets</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#known-issues">Known issues</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/module-imports/">Module imports</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/dynamic-imports/">Dynamic imports</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/front-end/static-assets/">Static assets</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Legacy Bundles</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/legacy-bundles/">What are they?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/legacy-bundles/clientlibs/">ClientLibs support</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/faqs/">FAQs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/migrate-to-v2/">Migrate to v2.x</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="frontmatter-title"><a class="header-anchor" href="#frontmatter-title" aria-hidden="true">#</a> Vite Configuration</h1><p>Each and every project will be unique regarding structure, expected outputs and general development needs. The following is intended to provide coverage for general expectations using Adobe&#39;s AEM Archetype as a reference.</p><h2 id="recommended-configuration"><a class="header-anchor" href="#recommended-configuration" aria-hidden="true">#</a> Recommended configuration</h2><p>Below is an example <code>vite.config.js</code> which intentionally uses the <code>vite-tsconfig-paths</code> as Adobe have adopted TypeScript in their archetype.</p><p>What you can see is the same output structures being used align to the <a href="/guide/front-end/structure/">structure</a> described previously. Some other things that are also going on:</p><ul><li>Disables brotli compression calculations (saves 2-5 seconds per prod build)</li><li>Disables the <code>manifest.json</code> file</li><li>Disables minification when running in <strong>development</strong> mode</li><li>Disables sourcemaps when not using the Vite DevServer</li></ul><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> tsconfigPaths <span class="token keyword">from</span> <span class="token string">&#39;vite-tsconfig-paths&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    brotliSize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    manifest<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    minify<span class="token operator">:</span> mode <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token string">&#39;terser&#39;</span><span class="token punctuation">,</span>
    outDir<span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
    sourcemap<span class="token operator">:</span> command <span class="token operator">===</span> <span class="token string">&#39;serve&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;inline&#39;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      output<span class="token operator">:</span> <span class="token punctuation">{</span>
        assetFileNames<span class="token operator">:</span> <span class="token string">&#39;&lt;project&gt;.header/resources/[ext]/[name][extname]&#39;</span><span class="token punctuation">,</span>
        chunkFileNames<span class="token operator">:</span> <span class="token string">&#39;&lt;project&gt;.footer/resources/chunks/[name].[hash].js&#39;</span><span class="token punctuation">,</span>
        entryFileNames<span class="token operator">:</span> <span class="token string">&#39;&lt;project&gt;.footer/resources/js/[name].js&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">tsconfigPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>See <a href="./../module-imports/">module imports</a> which explains the reasoning behind the rollup <code>output</code> structure.</p><h3 id="specific-build-modes"><a class="header-anchor" href="#specific-build-modes" aria-hidden="true">#</a> Specific build modes</h3><p>By default Vite runs its DevServer in <strong>development</strong> mode, but standard builds always run in <strong>production</strong> which is fine for non-AEM projects whereas AEM needs more control. The above configuration enables us to do things like the below.</p><div class="language-shell"><pre><code>vite build --mode development
<span class="token comment"># or</span>
vite build --mode production
</code></pre></div><p>Now that you can build both development and production bundles, you can toggle between having features such as sourcemaps and console logging if you wish to test code outside of Vite&#39;s DevServer.</p><h2 id="source-structure"><a class="header-anchor" href="#source-structure" aria-hidden="true">#</a> Source structure</h2><p>Where your inputs come from isn&#39;t important as Vite simply consumes anything you provide to it. It is, however, recommended that you consider your main website CSS and JavaScript separate entries.</p><p>The below example demonsrates this but you will need to keep in mind that the <code>input</code> keys should be unqiue otherwise rollup will automatically append an number to the end of the filename. See rollup&#39;s <a href="https://rollupjs.org/guide/en/#input" target="_blank" rel="noopener noreferrer">input documentation</a> for more information.</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      input<span class="token operator">:</span> <span class="token punctuation">{</span>
        app<span class="token operator">:</span> <span class="token string">&#39;src/main/webpack/css/app.scss&#39;</span><span class="token punctuation">,</span>
        bundle<span class="token operator">:</span> <span class="token string">&#39;src/main/webpack/js/app.ts&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="plugins"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> Plugins</h2><p>Please refer to Vite&#39;s <a href="https://vitejs.dev/guide/using-plugins.html" target="_blank" rel="noopener noreferrer">plugin documentation</a> for instructions on using plugins in Vite.</p><h2 id="code-output"><a class="header-anchor" href="#code-output" aria-hidden="true">#</a> Code output</h2><p>The process of how your bundled code gets handled shouldn&#39;t change if you won&#39;t need it to. The design of AEM Vite enables you to use any structure you wish but recommends ours for the best compatibility. Tools such as Adobe&#39;s <code>aem-clientlib-generator</code> will work perfectly fine with AEM Vite as it is executed after a build.</p><h2 id="devserver"><a class="header-anchor" href="#devserver" aria-hidden="true">#</a> DevServer</h2><p>If you want to customise how the Vite DevServer behaves you can do so via Vite&#39;s <code>server</code> configuration. By default Vite will attempt to start the server on port <code>3000</code> but will automatically increment to the next available port if <code>3000</code> is already in use. To ensure this doesn&#39;t happen, it is recommended to set a more specific port that you don&#39;t expect to change.</p><p>Please refer to Vite&#39;s <a href="https://vitejs.dev/config/#server-options" target="_blank" rel="noopener noreferrer">server api documention</a> for more information.</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="static-assets"><a class="header-anchor" href="#static-assets" aria-hidden="true">#</a> Static assets</h2><p>Vite supports static assets without any configuration which works for external projects, but not AEM. To ensure static assets are served correctly in AEM you can use a configuration like the below.</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  base<span class="token operator">:</span> command <span class="token operator">===</span> <span class="token string">&#39;build&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;/etc.clientlibs/&lt;project&gt;/clientlibs/&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>

  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    assetsDir<span class="token operator">:</span> <span class="token string">&#39;&lt;project&gt;.header/resources/assets&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>What this does is:</p><ol><li>Sets the base url for assets to <code>/etc.clientlibs/&lt;project&gt;/clientlibs/</code> when running <code>build</code>, not <code>serve</code></li><li>Ensures assets get saved the header ClientLib <code>resources</code> folder when running builds</li></ol><h3 id="known-issues"><a class="header-anchor" href="#known-issues" aria-hidden="true">#</a> Known issues</h3><p>At this current time, unless you inline your assets Vite will attempt to serve them from <code>/</code> when using the DevServer. This is related to issue <a href="https://github.com/vitejs/vite/issues/3107" target="_blank" rel="noopener noreferrer">#3107</a> on GitHub. For now, you can set a custom <code>BUILD_URL</code> environment variable via Vite&#39;s <code>define</code> configuration.</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  define<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">BASE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>
      command <span class="token operator">===</span> <span class="token string">&#39;serve&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;http://localhost:3000/&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Within your code you can then reference <code>BASE_URL</code> rather than <code>import.<wbr>meta.env.BASE_URL</code> which currently always returns <code>/</code> instead of our configured path.</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/guide/front-end/structure/" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Structure</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/guide/front-end/module-imports/" data-v-38ede35f><span class="text" data-v-38ede35f>Module imports</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"71ef40b9\",\"guide_index.md\":\"4ac813bf\",\"guide_faqs_index.md\":\"afcf2c3b\",\"guide_front-end_index.md\":\"a72d8906\",\"guide_legacy-bundles_index.md\":\"37e0947d\",\"guide_migrate-to-v2_index.md\":\"0d6e10e1\",\"guide_backend_configuration_index.md\":\"642d6230\",\"guide_backend_installation_index.md\":\"01d13899\",\"guide_backend_permissions_index.md\":\"bf4be1a7\",\"guide_extending_clientlibs_index.md\":\"3604b65b\",\"guide_extending_why_index.md\":\"03e4143f\",\"guide_front-end_dynamic-imports_index.md\":\"72915d80\",\"guide_front-end_module-imports_index.md\":\"22e0a332\",\"guide_front-end_static-assets_index.md\":\"5a54241f\",\"guide_front-end_structure_index.md\":\"44819c38\",\"guide_front-end_vite_index.md\":\"f3642a32\",\"guide_legacy-bundles_clientlibs_index.md\":\"7ef4503c\"}")</script>
    <script type="module" async src="/assets/app.0908424f.js"></script>
  </body>
</html>